import{a as _e,u as Me,b as He,d as k,e as oe,f as J,j as e,O as Oe,Q as Qe,x as p,R as Be,V as Ge,W as We,X as ze,Y as Je,Z as Xe,_ as Ye,$ as Ze,D as ce,a3 as es,P as de,g as me,h as ue,i as pe,k as he,F as xe,l as h,m as x,n as j,o as g,I as N,p as y,L as U,S as je,r as ge,s as ye,v as fe,w as Ne,av as ve,T as ss,C as ts,z as as,aw as ns,ax as rs,A as is,E as ls,a9 as os,y as we,G as cs,a6 as ds,a5 as ms,ay as us,M as ps,ak as Se,K as m,a0 as v,q as T,t as De}from"./index-BtknkMaH.js";import{r as w,L as hs,J as L,K as be}from"./vendor-Dl_IvdXv.js";import{c as xs,b as js}from"./schema-yUJfXApV.js";import{D as Ce}from"./download-ILkuwfnn.js";import{U as gs}from"./upload-CHr4UBr1.js";function Ss(){const[P,Te]=w.useState(""),[Ae,R]=w.useState(!1),[V,_]=w.useState(1),[X,Y]=w.useState(null),[M,Z]=w.useState(""),[i,Le]=w.useState(null),[Pe,ee]=w.useState(!1),[S,$]=w.useState([]),{toast:o}=_e(),[,Ie]=Me(),H=w.useRef(null),{selectedPropertyId:c,selectedLandlordId:d}=He(),Ee=async s=>{const t=s.target.files?.[0];if(!t)return;if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(t.type)){o({title:"Invalid File Type",description:"Please upload an Excel file (.xlsx, .xls) or CSV file.",variant:"destructive"});return}if(t.size>10*1024*1024){o({title:"File Too Large",description:"File size must be less than 10MB.",variant:"destructive"});return}try{const l=await t.arrayBuffer(),A=hs(l,{type:"array"}),n=A.SheetNames[0],Ve=A.Sheets[n],z=L.sheet_to_json(Ve);if(z.length===0){o({title:"Empty File",description:"The uploaded file contains no data.",variant:"destructive"});return}let F=0,I=0;const K=[];for(let q=0;q<z.length;q++){const f=z[q],le=q+2;try{const r={fullName:f["Full Name"]||f.fullName||"",email:f.Email||f.email||"",phone:f.Phone||f.phone||"",idNumber:f["ID Number"]||f.idNumber||"",emergencyContact:f["Emergency Contact"]||"",emergencyPhone:f["Emergency Phone"]||""},C=[];if(r.fullName?.trim()||C.push("Full Name is required"),r.email?.trim()||C.push("Email is required"),r.phone?.trim()||C.push("Phone is required"),r.idNumber?.trim()||C.push("ID Number is required"),r.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&C.push("Invalid email format"),r.phone&&!/^[\+]?[0-9\s\-\(\)]{10,}$/.test(r.phone)&&C.push("Invalid phone format"),C.length>0){K.push(`Row ${le}: ${C.join(", ")}`),I++;continue}r.fullName=r.fullName.trim(),r.email=r.email.trim().toLowerCase(),r.phone=r.phone.trim(),r.idNumber=r.idNumber.trim(),r.emergencyContact=r.emergencyContact?.trim()||"",r.emergencyPhone=r.emergencyPhone?.trim()||"",await v("POST","/api/tenants",r),F++}catch(r){K.push(`Row ${le}: ${r.message||"Unknown error"}`),I++}}T.invalidateQueries({queryKey:["/api/tenants"]}),F>0&&I===0?o({title:"Import Successful",description:`Successfully imported ${F} tenants.`}):F>0&&I>0?(o({title:"Partial Import",description:`Imported ${F} tenants. ${I} entries failed. Check console for details.`,variant:"destructive"}),console.error("Import validation errors:",K)):(o({title:"Import Failed",description:`No tenants imported. ${I} entries failed validation.`,variant:"destructive"}),console.error("Import validation errors:",K))}catch{o({title:"Import Failed",description:"Failed to read Excel file. Please check format and try again.",variant:"destructive"})}H.current&&(H.current.value="")},{data:se=[],isLoading:O,error:Q}=k({queryKey:["/api/tenants",c,d],queryFn:async()=>{const s=new URLSearchParams;c&&s.append("propertyId",c),d&&s.append("landlordId",d);const t=`/api/tenants${s.toString()?`?${s}`:""}`;return await(await v("GET",t)).json()}}),{data:B=[]}=k({queryKey:["/api/properties",d,c],queryFn:async()=>{const s=new URLSearchParams;d&&s.append("landlordId",d),c&&s.append("propertyId",c);const t=`/api/properties${s.toString()?`?${s}`:""}`;return await(await v("GET",t)).json()}}),{data:G=[]}=k({queryKey:["/api/units",c,d],queryFn:async()=>{const s=new URLSearchParams;c&&s.append("propertyId",c),d&&s.append("landlordId",d);const t=`/api/units${s.toString()?`?${s}`:""}`;return await(await v("GET",t)).json()}}),{data:Fe=[]}=k({queryKey:["/api/house-types",c,d],queryFn:async()=>{const s=new URLSearchParams;c&&s.append("propertyId",c),d&&s.append("landlordId",d);const t=`/api/house-types${s.toString()?`?${s}`:""}`;return await(await v("GET",t)).json()}}),{data:te=[]}=k({queryKey:["/api/leases",c,d],queryFn:async()=>{const s=new URLSearchParams;c&&s.append("propertyId",c),d&&s.append("landlordId",d);const t=`/api/leases${s.toString()?`?${s}`:""}`;return await(await v("GET",t)).json()}}),D=oe({resolver:De(xs),defaultValues:{fullName:"",email:"",phone:"",idNumber:"",emergencyContact:"",emergencyPhone:""}}),u=oe({resolver:De(js),defaultValues:{unitId:"",tenantId:"",startDate:"",endDate:"",rentAmount:"",depositAmount:"",waterRatePerUnit:"15.50"}}),E=J({mutationFn:async s=>v("POST","/api/tenants",s),onSuccess:async s=>{T.invalidateQueries({queryKey:["/api/tenants"]}),o({title:"Success",description:"Tenant created successfully"});const t=await s.json();Y(t.id)},onError:s=>{o({title:"Error",description:s.message||"Failed to create tenant",variant:"destructive"})}}),W=J({mutationFn:async s=>v("POST","/api/leases",s),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/leases"]}),T.invalidateQueries({queryKey:["/api/tenants"]}),T.invalidateQueries({queryKey:["/api/units"]}),o({title:"Success",description:"Lease created successfully"}),R(!1),_(1),Y(null),Z(""),D.reset(),u.reset()},onError:s=>{o({title:"Error",description:s.message||"Failed to create lease",variant:"destructive"})}}),ae=J({mutationFn:async s=>v("DELETE",`/api/tenants/${s}`),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/tenants"]}),T.invalidateQueries({queryKey:["/api/leases"]}),T.invalidateQueries({queryKey:["/api/units"]}),o({title:"Success",description:"Tenant deleted successfully"})},onError:s=>{o({title:"Error",description:s.message||"Failed to delete tenant",variant:"destructive"})}}),ne=Array.isArray(se)?se.map(s=>{const a=(Array.isArray(te)?te.filter(l=>l.tenantId===s.id):[]).find(l=>l.status==="active");if(a){const l=Array.isArray(G)?G.find(n=>n.id===a.unitId):null,A=Array.isArray(B)?B.find(n=>n.id===l?.propertyId):null;return{...s,lease:a,unit:l,property:A,status:a.status,rentAmount:a.rentAmount}}return{...s,lease:null,unit:null,property:null,status:"inactive",rentAmount:"0"}}):[],ke=()=>{const s=[{"Full Name":"John Doe",Email:"john.doe@email.com",Phone:"+254700000000","ID Number":"12345678","Emergency Contact":"Jane Doe","Emergency Phone":"+254700000001"},{"Full Name":"Mary Smith",Email:"mary.smith@email.com",Phone:"+254700000002","ID Number":"87654321","Emergency Contact":"John Smith","Emergency Phone":"+254700000003"}],t=L.json_to_sheet(s);t["!cols"]=[{wch:20},{wch:25},{wch:15},{wch:12},{wch:20},{wch:15}];const a=L.book_new();L.book_append_sheet(a,t,"Tenant Template");const l="tenant_import_template.xlsx";be(a,l),o({title:"Template Downloaded",description:`Template downloaded as ${l}. Fill in your tenant data and import it back.`})},$e=()=>{const s=ne.map(n=>({"Full Name":n.fullName,Email:n.email,Phone:n.phone,"ID Number":n.idNumber,"Emergency Contact":n.emergencyContact||"","Emergency Phone":n.emergencyPhone||"","Created Date":n.createdAt?new Date(n.createdAt).toLocaleDateString():"","Lease Status":n.status||"Inactive",Property:n.property?.name||"Not Assigned","Unit Number":n.unit?.unitNumber||"Not Assigned","Unit Type":n.unit?.type||"","Rent Amount (KSH)":n.lease?.rentAmount||"0","Deposit Amount (KSH)":n.lease?.depositAmount||"0","Water Rate per Unit (KSH)":n.lease?.waterRatePerUnit||"15.50","Lease Start Date":n.lease?.startDate||"","Lease End Date":n.lease?.endDate||"","Property Address":n.property?.address||"","Property Status":n.property?.status||""})),t=L.json_to_sheet(s);t["!cols"]=Array(18).fill({wch:15});const a=L.book_new();L.book_append_sheet(a,t,"Tenants Data");const A=`tenants_export_${new Date().toISOString().split("T")[0]}.xlsx`;be(a,A),o({title:"Export Successful",description:`Tenants data exported to ${A}`})},b=ne.filter(s=>s.fullName?.toLowerCase().includes(P.toLowerCase())||s.email?.toLowerCase().includes(P.toLowerCase())||s.unit?.unitNumber?.toLowerCase().includes(P.toLowerCase())||s.property?.name?.toLowerCase().includes(P.toLowerCase())),Ke=async()=>{if(await D.trigger()){const t=D.getValues();E.mutate(t),_(2)}},qe=async()=>{if(await u.trigger()&&X){const t={...u.getValues(),tenantId:X};W.mutate(t)}},Ue=s=>{$(t=>t.includes(s)?t.filter(a=>a!==s):[...t,s])},re=()=>{S.length===b.length?$([]):$(b.map(s=>s.id))},Re=()=>{if(S.filter(t=>{const a=b.find(l=>l.id===t);return a?.lease&&a.lease.status==="active"}).length>0){o({title:"Cannot Delete",description:"Some selected tenants have active leases and cannot be deleted.",variant:"destructive"});return}S.forEach(t=>{ae.mutate(t)}),$([])},ie=G.filter(s=>{const t=M?s.propertyId===M:!0,a=s.status==="vacant";return t&&a}).map(s=>{const t=Fe.find(a=>a.id===s.houseTypeId);return{...s,type:t?.name||"Unknown Type"}});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"tenants-title",children:"Tenants"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage tenant information and lease agreements"})]}),e.jsxs("div",{className:"flex gap-2",children:[S.length>0&&e.jsxs(Oe,{children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(p,{variant:"destructive",disabled:ae.isPending,children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Delete (",S.length,")"]})}),e.jsxs(Ge,{children:[e.jsxs(We,{children:[e.jsx(ze,{children:"Delete Selected Tenants"}),e.jsxs(Je,{children:["Are you sure you want to delete ",S.length," tenant(s)? Tenants with active leases cannot be deleted."]})]}),e.jsxs(Xe,{children:[e.jsx(Ye,{children:"Cancel"}),e.jsx(Ze,{onClick:Re,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]}),e.jsxs(p,{variant:"outline",onClick:ke,"data-testid":"button-download-template",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Download Template"]}),e.jsxs(p,{variant:"outline",onClick:$e,"data-testid":"button-export-tenants",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),e.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:Ee,style:{display:"none"},ref:H,"data-testid":"input-file-import"}),e.jsxs(p,{variant:"outline",onClick:()=>Ie("/upload-data"),"data-testid":"button-upload-data",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Upload Data"]}),e.jsxs(ce,{open:Ae,onOpenChange:R,children:[e.jsx(es,{asChild:!0,children:e.jsxs(p,{"data-testid":"button-add-tenant",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})}),e.jsxs(me,{className:"sm:max-w-[500px]",children:[e.jsxs(ue,{children:[e.jsx(pe,{children:V===1?"Add New Tenant":"Allocate Unit"}),e.jsx(he,{children:V===1?"Enter tenant contact information and details.":"Assign a unit and create lease agreement."})]}),V===1?e.jsx(xe,{...D,children:e.jsxs("form",{className:"grid gap-4 py-4",children:[e.jsx(h,{control:D.control,name:"fullName",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Full Name"}),e.jsx(g,{children:e.jsx(N,{placeholder:"e.g., John Doe","data-testid":"input-tenant-name",...s})}),e.jsx(y,{})]})}),e.jsx(h,{control:D.control,name:"email",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Email Address"}),e.jsx(g,{children:e.jsx(N,{type:"email",placeholder:"john.doe@email.com","data-testid":"input-tenant-email",...s})}),e.jsx(y,{})]})}),e.jsx(h,{control:D.control,name:"phone",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Phone Number"}),e.jsx(g,{children:e.jsx(N,{placeholder:"+254 712 345 678","data-testid":"input-tenant-phone",...s})}),e.jsx(y,{})]})}),e.jsx(h,{control:D.control,name:"idNumber",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"ID/Passport Number"}),e.jsx(g,{children:e.jsx(N,{placeholder:"12345678","data-testid":"input-tenant-id",...s})}),e.jsx(y,{})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(p,{variant:"outline",type:"submit",disabled:E.isPending,children:[E.isPending&&e.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}),"Save & Close"]}),e.jsxs(p,{type:"button",onClick:Ke,"data-testid":"button-save-add-lease",disabled:E.isPending,children:[E.isPending&&e.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}),"Save & Add Lease"]})]})]})}):e.jsx(xe,{...u,children:e.jsxs("form",{className:"grid gap-4 py-4",children:[e.jsx(h,{control:u.control,name:"unitId",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Property"}),e.jsx(g,{children:e.jsxs(je,{value:M,onValueChange:Z,"data-testid":"select-property",children:[e.jsx(ge,{children:e.jsx(ye,{placeholder:"Select property"})}),e.jsx(fe,{children:B.map(t=>e.jsx(Ne,{value:t.id,children:t.name},t.id))})]})}),e.jsx(y,{})]})}),e.jsx(h,{control:u.control,name:"unitId",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Available Unit"}),e.jsx(g,{children:e.jsxs(je,{...s,onValueChange:t=>{s.onChange(t);const a=ie.find(l=>l.id===t);a&&u.setValue("rentAmount",a.rentAmount)},"data-testid":"select-unit",children:[e.jsx(ge,{children:e.jsx(ye,{placeholder:"Select unit"})}),e.jsx(fe,{children:ie.map(t=>e.jsxs(Ne,{value:t.id,children:[t.unitNumber," - ",t.type," (KSH ",parseFloat(t.rentAmount).toLocaleString(),")"]},t.id))})]})}),e.jsx(y,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(h,{control:u.control,name:"startDate",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Lease Start Date"}),e.jsx(g,{children:e.jsx(N,{type:"date","data-testid":"input-lease-start",...s})}),e.jsx(y,{})]})}),e.jsx(h,{control:u.control,name:"endDate",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Lease End Date"}),e.jsx(g,{children:e.jsx(N,{type:"date","data-testid":"input-lease-end",...s})}),e.jsx(y,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(h,{control:u.control,name:"rentAmount",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Monthly Rent (KSH)"}),e.jsx(g,{children:e.jsx(N,{type:"number",placeholder:"e.g., 20000","data-testid":"input-rent-amount",...s})}),e.jsx(y,{})]})}),e.jsx(h,{control:u.control,name:"depositAmount",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Security Deposit (KSH)"}),e.jsx(g,{children:e.jsx(N,{type:"number",placeholder:"e.g., 40000","data-testid":"input-deposit-amount",...s})}),e.jsx(y,{})]})})]}),e.jsx(h,{control:u.control,name:"waterRatePerUnit",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Water Rate per Unit (KSH per m³)"}),e.jsx(g,{children:e.jsx(N,{type:"number",step:"0.01",placeholder:"e.g., 15.50","data-testid":"input-water-rate",...s})}),e.jsx(y,{})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(p,{variant:"outline",onClick:()=>_(1),children:"Back"}),e.jsxs(p,{type:"button",onClick:qe,"data-testid":"button-create-lease",disabled:W.isPending,children:[W.isPending&&e.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Lease"]})]})]})})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(N,{placeholder:"Search tenants...",value:P,onChange:s=>Te(s.target.value),className:"max-w-sm","data-testid":"input-search-tenants"}),b.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{checked:S.length===b.length&&b.length>0,onCheckedChange:re}),e.jsx("label",{className:"text-sm text-muted-foreground cursor-pointer",onClick:re,children:"Select All"})]})]}),O&&e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(U,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading tenants..."})]}),Q&&e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(ss,{className:"h-8 w-8 text-destructive"}),e.jsx("span",{className:"ml-2 text-destructive",children:"Failed to load tenants"})]}),!O&&!Q&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(s=>{const t=S.includes(s.id);return e.jsxs(ts,{className:`hover-elevate ${t?"ring-2 ring-primary":""}`,children:[e.jsx(as,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ve,{checked:t,onCheckedChange:()=>Ue(s.id)}),e.jsx(ns,{children:e.jsx(rs,{children:s.fullName?.split(" ").map(a=>a[0]).join("")||"T"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(is,{className:"text-lg",children:s.fullName}),e.jsxs(ls,{className:"flex items-center gap-1",children:[e.jsx(os,{className:"h-3 w-3"}),s.unit?.unitNumber||"No unit"," - ",s.property?.name||"No property"]})]}),e.jsx(we,{variant:s.status==="active"?"default":s.status==="overdue"?"destructive":"secondary","data-testid":`status-${s.fullName?.toLowerCase().replace(/\s+/g,"-")||"unknown"}`,children:s.status})]})}),e.jsxs(cs,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:s.phone})]}),s.lease&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:["Lease: ",new Date(s.lease.startDate).toLocaleDateString()," - ",new Date(s.lease.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Rent"}),e.jsxs("p",{className:"font-medium font-mono",children:["KSh ",Number(s.rentAmount||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),e.jsx("p",{className:"font-medium font-mono text-green-600",children:"KSh 0"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(p,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{Le(s),ee(!0)},"data-testid":`button-view-${s.fullName?.toLowerCase().replace(/\s+/g,"-")||"unknown"}`,children:"View Details"}),e.jsxs(p,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-invoice-${s.fullName?.toLowerCase().replace(/\s+/g,"-")||"unknown"}`,children:[e.jsx(ps,{className:"h-4 w-4 mr-1"}),"Invoice"]})]})]})]},s.id)})}),!O&&!Q&&b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Se,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tenants found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:P?"Try adjusting your search terms":"Get started by adding your first tenant"}),e.jsxs(p,{onClick:()=>R(!0),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Add Tenant"]})]}),e.jsx(ce,{open:Pe,onOpenChange:ee,children:e.jsxs(me,{className:"max-w-2xl",children:[e.jsxs(ue,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5"}),i?.fullName]}),e.jsx(he,{children:"Detailed tenant information"})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Full Name"}),e.jsx("p",{className:"text-sm",children:i.fullName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Status"}),e.jsx(we,{variant:i.status==="active"?"default":"secondary",children:i.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-sm",children:i.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Phone"}),e.jsx("p",{className:"text-sm",children:i.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"ID Number"}),e.jsx("p",{className:"text-sm",children:i.idNumber})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Emergency Contact"}),e.jsx("p",{className:"text-sm",children:i.emergencyContact||"Not provided"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Emergency Phone"}),e.jsx("p",{className:"text-sm",children:i.emergencyPhone||"Not provided"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Property"}),e.jsx("p",{className:"text-sm",children:i.property?.name||"Not assigned"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Unit"}),e.jsx("p",{className:"text-sm",children:i.unit?.unitNumber||"Not assigned"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Monthly Rent"}),e.jsxs("p",{className:"text-sm font-mono",children:["KSh ",Number(i.rentAmount||0).toLocaleString()]})]})]}),i.lease&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{className:"text-sm font-medium",children:"Lease Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 bg-muted/50 rounded-md",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{className:"text-xs text-muted-foreground",children:"Start Date"}),e.jsx("p",{className:"text-sm",children:new Date(i.lease.startDate).toLocaleDateString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{className:"text-xs text-muted-foreground",children:"End Date"}),e.jsx("p",{className:"text-sm",children:new Date(i.lease.endDate).toLocaleDateString()})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{className:"text-xs text-muted-foreground",children:"Deposit Amount"}),e.jsxs("p",{className:"text-sm font-mono",children:["KSh ",Number(i.lease.depositAmount||0).toLocaleString()]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{className:"text-xs text-muted-foreground",children:"Water Rate"}),e.jsxs("p",{className:"text-sm font-mono",children:["KSh ",i.lease.waterRatePerUnit||15.5,"/m³"]})]})]})]})]})]})})]})}export{Ss as Tenants};
